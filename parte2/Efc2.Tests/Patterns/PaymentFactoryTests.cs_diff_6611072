using Efc2.Patterns.Factory;
using Xunit;

namespace Efc2.Tests.Patterns
{
    public class PaymentFactoryTests
    {
        [Theory]
        [InlineData("pix", typeof(PixPayment))]
        [InlineData("credit", typeof(CreditCardPayment))]
        public void CreatePayment_ShouldReturnCorrectType(string method, Type expectedType)
        {
            // Act
            var payment = PaymentFactory.CreatePayment(method);

            // Assert
            Assert.IsType(expectedType, payment);
        }

        [Fact]
        public void CreatePayment_ShouldThrowException_ForInvalidMethod()
        {
            // Arrange
            string invalidMethod = "bitcoin";

            // Act & Assert
            Assert.Throws<ArgumentException>(() => PaymentFactory.CreatePayment(invalidMethod));
        }
    }
}

